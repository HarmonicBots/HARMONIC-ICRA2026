<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>HARMONIC: A Content-Centric Cognitive Robotic Architecture</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.2/css/academicons.min.css">
    <style>
    /* Base styles with simplified color scheme */
    :root {
      --primary-color: #2c3e50;  /* Deep blue-gray */
      --secondary-color: #34495e; /* Darker blue-gray */
      --accent-color: #3498db;   /* Subtle blue accent */
      --text-color: #333333;
      --light-gray: #f5f5f5;
      --border-color: #e0e0e0;
      --link-color: #2980b9;
    }
    
    * {
      box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: white;
        }

        .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header styles */
    .header {
            text-align: center;
      padding: 40px 0 20px;
      border-bottom: 1px solid var(--border-color);
        }

    .paper-title {
      font-size: 32px;
            font-weight: 700;
      margin-bottom: 20px;
      color: var(--primary-color);
            line-height: 1.2;
        }

    .authors {
      margin: 20px 0;
      font-size: 18px;
      line-height: 1.7;
    }
    
    .authors a {
      color: var(--link-color);
      text-decoration: none;
      transition: color 0.2s;
    }
    
    .authors a:hover {
      text-decoration: underline;
    }
    
    .affiliations {
      margin: 15px 0 20px;
      font-size: 16px;
      line-height: 1.5;
      color: var(--secondary-color);
    }
    
    .affiliations strong {
      color: var(--primary-color);
    }
    
    .sup {
      font-size: 65%;
      vertical-align: super;
      color: var(--secondary-color);
    }
    
    /* Citation section */
    .citation-container {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    
    .citation-button {
      display: inline-flex;
      align-items: center;
      background-color: white;
      color: var(--link-color);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 8px 16px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }
    
    .citation-button:hover {
      background-color: var(--light-gray);
      border-color: var(--accent-color);
    }
    
    .citation-button.disabled {
      background-color: #f5f5f5;
      color: #999;
      cursor: not-allowed;
      opacity: 0.6;
    }
    
    .citation-button.disabled:hover {
      background-color: #f5f5f5;
      border-color: var(--border-color);
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 4px;
      padding: 8px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    /* Interactive Architecture Styles */
    .interactive-architecture {
      position: relative;
      display: inline-block;
      border-radius: 8px;
      overflow: visible;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    
    .interactive-architecture img {
      width: 100%;
      border-radius: 8px;
      display: block;
    }
    
    .architecture-hotspot {
      position: absolute;
      background: #fff;
      border: 2px solid #000;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      width: 20px;
      height: 20px;
      margin-left: -10px;
      margin-top: -10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    .architecture-hotspot:hover {
      background: #fff;
      border-color: #000;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
    }
    
    .architecture-hotspot.active {
      background: #fff;
      border-color: #000;
      box-shadow: 0 0 25px rgba(255, 0, 0, 1);
      animation: pulse-red 1.5s infinite;
    }
    
    @keyframes pulse-red {
      0% {
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
        transform: scale(1);
      }
      50% {
        box-shadow: 0 0 30px rgba(255, 0, 0, 1);
        transform: scale(1.1);
      }
      100% {
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
        transform: scale(1);
      }
    }
    
    .architecture-hotspot::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 8px;
      height: 8px;
      background: #8a2be2;
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }
    
    .architecture-hotspot:hover::before {
      background: #9932cc;
    }
    
    .architecture-hotspot.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    /* Dark blue buttons for specific components */
    .architecture-hotspot.dark-blue::before {
      background: #1e3a8a;
    }
    
    .architecture-hotspot.dark-blue:hover::before {
      background: #1e40af;
    }
    
    .architecture-hotspot.dark-blue.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    /* Black buttons for specific components */
    .architecture-hotspot.black::before {
      background: #000000;
    }
    
    .architecture-hotspot.black:hover::before {
      background: #333333;
    }
    
    .architecture-hotspot.black.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    /* Dark green buttons for specific components */
    .architecture-hotspot.dark-green::before {
      background: #166534;
    }
    
    .architecture-hotspot.dark-green:hover::before {
      background: #15803d;
    }
    
    .architecture-hotspot.dark-green.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    /* Navy blue buttons for specific components */
    .architecture-hotspot.navy-blue::before {
      background: #1e40af;
    }
    
    .architecture-hotspot.navy-blue:hover::before {
      background: #2563eb;
    }
    
    .architecture-hotspot.navy-blue.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    /* Deep green buttons for specific components */
    .architecture-hotspot.deep-green::before {
      background: #065f46;
    }
    
    .architecture-hotspot.deep-green:hover::before {
      background: #047857;
    }
    
    .architecture-hotspot.deep-green.active::before {
      background: #ff0000;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    }
    
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .architecture-hotspot {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .architecture-hotspot:nth-child(2) { animation-delay: 0.1s; }
    .architecture-hotspot:nth-child(3) { animation-delay: 0.2s; }
    .architecture-hotspot:nth-child(4) { animation-delay: 0.3s; }
    .architecture-hotspot:nth-child(5) { animation-delay: 0.4s; }
    .architecture-hotspot:nth-child(6) { animation-delay: 0.5s; }
    .architecture-hotspot:nth-child(7) { animation-delay: 0.6s; }
    .architecture-hotspot:nth-child(8) { animation-delay: 0.7s; }
    
    .architecture-tooltip {
      position: absolute;
      background: linear-gradient(135deg, rgba(44, 62, 80, 0.95), rgba(52, 73, 94, 0.95));
      color: white;
      padding: 16px 20px;
      border-radius: 12px;
      font-size: 14px;
      line-height: 1.5;
      max-width: 280px;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: translateY(10px);
    }
    
    .architecture-tooltip.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .architecture-tooltip strong {
      color: var(--accent-color);
      font-weight: 600;
      display: block;
      margin-bottom: 6px;
      font-size: 15px;
    }
    
    .architecture-tooltip::after {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border: 8px solid transparent;
    }
    
    .architecture-tooltip.top::after {
      bottom: -16px;
      left: 50%;
      transform: translateX(-50%);
      border-top-color: rgba(44, 62, 80, 0.95);
    }
    
    .architecture-tooltip.bottom::after {
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      border-bottom-color: rgba(44, 62, 80, 0.95);
    }
    
    .architecture-tooltip.left::after {
      right: -16px;
      top: 50%;
      transform: translateY(-50%);
      border-left-color: rgba(44, 62, 80, 0.95);
    }
    
    .architecture-tooltip.right::after {
      left: -16px;
      top: 50%;
      transform: translateY(-50%);
      border-right-color: rgba(44, 62, 80, 0.95);
    }
    
    /* Information Panel Styles */
    .architecture-info-panel {
      flex: 1;
      min-width: 300px;
      max-width: 400px;
      background: linear-gradient(135deg, rgba(248, 249, 250, 0.95), rgba(255, 255, 255, 0.95));
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-self: stretch;
    }
    
    .architecture-info-panel h3 {
      color: var(--primary-color);
      font-size: 22px;
      font-weight: 600;
      margin: 0 0 12px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--accent-color);
    }
    
    .architecture-info-panel p {
      color: var(--text-color);
      font-size: 16px;
      line-height: 1.6;
      margin: 0;
    }
    
    .architecture-info-panel .default-message {
      text-align: center;
      color: var(--secondary-color);
      font-style: italic;
      padding: 40px 20px;
    }
    
    .architecture-info-panel .default-message i {
      font-size: 24px;
      color: var(--accent-color);
      margin-bottom: 10px;
      display: block;
    }
    
    /* Video styling in info panel */
    .architecture-info-panel video {
      width: 100%;
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 10px 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .architecture-info-panel .video-container {
      margin: 10px 0;
    }
    
    .architecture-info-panel .video-caption {
      font-size: 12px;
      color: var(--secondary-color);
      text-align: center;
      margin-top: 5px;
      font-style: italic;
    }
    
    .citation-button i {
      margin-right: 8px;
      font-size: 18px;
    }
    
    .citation-content {
      display: none;
      background-color: var(--light-gray);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 10px;
      margin: 10px auto;
      max-width: 90%;
      position: relative;
      font-size: 14px;
      white-space: pre-wrap;
      word-break: break-word;
      text-align: left;
      font-family: Consolas, Monaco, 'Andale Mono', monospace;
    }
    
    .copy-button {
      margin-top: 10px;
      padding: 5px 10px;
      font-size: 12px;
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    
    .copy-button:hover {
      background-color: var(--link-color);
    }
    
    /* Main content */
    .main-content {
      margin: 30px 0;
      padding: 0;
    }
    
    h2 {
      color: var(--primary-color);
      font-size: 24px;
            font-weight: 600;
      margin: 40px 0 20px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border-color);
    }
    
    h3 {
      color: var(--primary-color);
      font-size: 20px;
      font-weight: 500;
      margin: 20px 0 15px;
    }
    
    p {
      margin-bottom: 20px;
      text-align: left;
      color: var(--text-color);
      line-height: 1.6;
    }
    
    /* Video container */
    .video-container {
      margin: 30px 0;
      text-align: center;
      width: 100%;
      border: none;
      background: transparent;
    }
    
    .video-container video {
      width: 100%;
      max-width: 100%;
      border: none;
      border-radius: 0;
      box-shadow: none;
      background: transparent;
    }
    
    .figure-caption {
      margin-top: 10px;
      font-size: 14px;
      color: var(--secondary-color);
      text-align: center;
    }
    
    /* Grid layout */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .grid-item {
      background-color: white;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 20px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .grid-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .grid-item h3 {
      color: var(--primary-color);
      margin-top: 0;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      margin-bottom: 15px;
    }
    
    /* Capability sections */
    .capability-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .capability-section {
      background-color: white;
      border: 1px solid var(--border-color);
      border-radius: 4px;
    }
    
    .capability-title {
      color: var(--primary-color);
      background-color: var(--light-gray);
      margin: 0;
      text-align: center;
      padding: 12px 0;
      font-size: 18px;
      font-weight: 500;
    }
    
    .capability-list {
      padding: 15px 15px 15px 35px;
      margin: 0;
      list-style-type: disc;
    }
    
    .capability-list li {
      padding: 4px 0;
      color: var(--text-color);
      font-size: 15px;
    }
    
    /* Book showcase */
    .book-showcase {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 25px 0;
      flex-wrap: wrap;
    }
    
    .book-item {
      text-align: center;
      max-width: 250px;
    }
    
    .book-item img {
      width: 100%;
      border: none;
      border-radius: 0;
      transition: transform 0.2s;
      background: white;
    }
    
    .book-item img:hover {
      transform: scale(1.03);
    }
    
    .book-item p {
      margin-top: 10px;
      font-weight: 500;
      text-align: center;
      color: var(--secondary-color);
    }
    
    /* Figures */
    .figure {
      margin: 30px 0;
      text-align: center;
      width: 100%;
      background: white;
      border: none;
      padding: 0;
    }
    
    .figure img {
      width: 100%;
      max-width: 100%;
      border: none;
      border-radius: 0;
      box-shadow: none;
      background: white;
    }
    
    /* Section divider */
    .section-divider {
      height: 1px;
      background: var(--border-color);
      margin: 40px 0;
      border: none;
    }
    
    /* Footer */
        .footer {
      text-align: center;
      padding: 20px 0;
      margin-top: 40px;
      color: var(--secondary-color);
      font-size: 14px;
      border-top: 1px solid var(--border-color);
    }
    
    /* Placeholder styles */
    .placeholder {
      background-color: white;
      border: none;
      border-radius: 0;
      padding: 20px;
      text-align: left;
      color: #000000;
      font-style: justify;
      margin: 20px 0;
    }
    
    /* Interactive Demo Styles */
    .interactive-demo {
      margin: 40px 0;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      overflow: hidden;
      max-width: none;
      width: 100%;
    }
    
    .demo-header {
      background: var(--light-gray);
      padding: 20px 60px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .demo-title {
      color: var(--primary-color);
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .demo-description {
      color: var(--secondary-color);
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    .demo-controls {
      padding: 20px 60px;
      background: #f8f9fa;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .demo-button {
      padding: 8px 16px;
      background: var(--accent-color);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background-color 0.2s;
    }
    
    .demo-button:hover {
      background: var(--link-color);
    }
    
    .demo-button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    
    .demo-button.simulation-button:hover {
      background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
      transform: translateY(-1px);
    }
    
    .demo-button.robot-button:hover {
      background: linear-gradient(135deg, #ee82f0 0%, #f3455a 100%);
      transform: translateY(-1px);
    }
    
    .step-counter {
      color: var(--secondary-color);
            font-size: 0.9rem;
      margin-left: auto;
    }
    
    .demo-content {
      padding: 0;
      height: 70vh;
      overflow-y: auto;
      border: 1px solid var(--border-color);
      background: white;
      max-width: none;
      width: 100%;
    }
    
    .demo-step {
      padding: 30px 60px;
      border-bottom: 1px solid #f0f0f0;
      display: none;
      height: 100%;
      overflow-y: auto;
    }
    
    .demo-step.active {
      display: block !important;
      background: #fff9e6;
    }
    
    .demo-step.completed {
      display: none !important;
    }
    
    .step-number {
      display: inline-block;
      background: var(--accent-color);
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      text-align: center;
      line-height: 24px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 10px;
    }
    
    .step-title {
      color: var(--primary-color);
      font-weight: 600;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    
    .step-content {
      margin-left: 20px;
    }
    
    .human-input {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 10px 15px;
      margin: 10px 0;
      border-radius: 0 4px 4px 0;
      font-style: italic;
    }
    
    .robot-response {
      background: #f3e5f5;
      border-left: 4px solid #9c27b0;
      padding: 10px 15px;
      margin: 10px 0;
      border-radius: 0 4px 4px 0;
    }
    
    .code-block {
      background: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin: 10px 0;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      line-height: 1.4;
      overflow-x: auto;
      width: calc(100% - 1px);
      max-width: none;
    }
    
    pre.code-block {
      background: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin: 10px 0;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      line-height: 1.4;
      overflow-x: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
      width: calc(100% - 10px);
      max-width: none;
    }
    
    pre.code-block code {
      background: transparent;
      border: none;
      padding: 0;
      font-family: inherit;
      font-size: inherit;
      color: inherit;
    }
    
    .ontology-info {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
      padding: 10px 15px;
      margin: 10px 0;
      border-radius: 0 4px 4px 0;
    }
    
    .plan-status {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
      margin-left: 10px;
    }
    
    .status-running { background: #e3f2fd; color: #1976d2; }
    .status-pending { background: #fff3e0; color: #f57c00; }
    .status-finished { background: #e8f5e8; color: #388e3c; }
    .status-impassed { background: #ffebee; color: #d32f2f; }

    /* Step video styling */
    .step-video {
      border: 1px solid var(--border-color);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s;
    }
    
    .step-video:hover {
      transform: scale(1.02);
    }
    
    /* Video grid container for step videos */
    .video-grid-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      align-items: start;
      margin: 20px 0;
    }
    
    .video-stack-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    /* Image grid container for step images */
    .image-grid-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      margin: 20px 0;
    }
    
    .robot-images-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      width: 100%;
      max-width: 800px;
    }
    
    .image-container img {
      transition: transform 0.2s;
    }
    
    .image-container img:hover {
      transform: scale(1.02);
    }
    
    /* Demo full buttons styling */
    .demo-full-button {
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: none;
      min-width: 200px;
    }
    
    .simulation-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }
    
    .simulation-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }
    
    .robot-button {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
    }
    
    .robot-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(240, 147, 251, 0.4);
    }
    
    .demo-buttons-container {
      margin: 30px 0;
      text-align: center;
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    /* Full-width demo video styling */
    .full-width-video-container {
      margin: 30px 0;
      width: 100%;
    }
    
    .full-demo-video {
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      transition: transform 0.2s;
    }
    
    .full-demo-video:hover {
      transform: scale(1.01);
    }

    /* Step Navigation Styles */
    .step-navigation {
      background: #f8f9fa;
      border-bottom: 1px solid var(--border-color);
      padding: 15px 60px;
    }
    
    .step-nav-title {
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 10px;
      font-size: 0.9rem;
    }
    
    .step-nav-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
      gap: 12px;
      max-width: 100%;
    }
    
    .step-nav-button {
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 8px 4px;
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--text-color);
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
      min-width: 40px;
    }
    
    .step-nav-button:hover {
      background: var(--light-gray);
      border-color: var(--accent-color);
      transform: translateY(-1px);
    }
    
    .step-nav-button.active {
      background: var(--accent-color);
      color: white;
      border-color: var(--accent-color);
    }
    
    .step-nav-button.completed {
      background: #e8f5e8;
      color: #388e3c;
      border-color: #4caf50;
    }
    
    /* Special demo navigation buttons */
    .simulation-nav-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: #667eea;
      font-size: 0.8rem;
      font-weight: 600;
      padding: 8px 4px;
      min-width: 40px;
    }
    
    .simulation-nav-button:hover {
      background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }
    
    .simulation-nav-button.active {
      background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.6);
    }
    
    .robot-nav-button {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      border-color: #f093fb;
      font-size: 0.8rem;
      font-weight: 600;
      padding: 8px 4px;
      min-width: 40px;
    }
    
    .robot-nav-button:hover {
      background: linear-gradient(135deg, #ee82f0 0%, #f3455a 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(240, 147, 251, 0.4);
    }
    
    .robot-nav-button.active {
      background: linear-gradient(135deg, #ee82f0 0%, #f3455a 100%);
      box-shadow: 0 4px 12px rgba(240, 147, 251, 0.6);
    }

    /* Fixed Top Navigation Bar */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-color);
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 60px;
    }
    
    .nav-logo {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .nav-menu {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      gap: 30px;
    }
    
    .nav-link {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 4px;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .nav-link:hover {
      color: var(--accent-color);
      background-color: var(--light-gray);
    }
    
    .nav-link.active {
      color: var(--accent-color);
      background-color: rgba(52, 152, 219, 0.1);
    }
    
    .nav-toggle {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 4px;
    }
    
    .nav-toggle .bar {
      width: 25px;
      height: 3px;
      background-color: var(--primary-color);
      transition: all 0.3s ease;
      border-radius: 2px;
    }
    
    /* Mobile Navigation */
    @media (max-width: 768px) {
      .nav-menu {
        position: fixed;
        top: 60px;
        left: -100%;
        width: 100%;
        height: calc(100vh - 60px);
        background-color: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(10px);
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding-top: 50px;
        gap: 20px;
        transition: left 0.3s ease;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      
      .nav-menu.active {
        left: 0;
      }
      
      .nav-link {
        font-size: 16px;
        padding: 15px 20px;
        width: 80%;
        text-align: center;
        border-radius: 8px;
      }
      
      .nav-toggle {
        display: flex;
      }
      
      .nav-toggle.active .bar:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }
      
      .nav-toggle.active .bar:nth-child(2) {
        opacity: 0;
      }
      
      .nav-toggle.active .bar:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }
    }
    
    /* Add top padding to body to account for fixed nav */
    body {
      padding-top: 60px;
    }

    /* Responsive adjustments */
        @media (max-width: 768px) {
      .paper-title {
        font-size: 26px;
      }
      
      .authors {
        font-size: 16px;
      }
      
      .grid-container, 
      .capability-container {
        grid-template-columns: 1fr;
      }
      
      .citation-content {
        max-width: 100%;
        font-size: 12px;
      }
      
      .demo-controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .step-counter {
        margin-left: 0;
        margin-top: 10px;
            }
      
      .step-nav-grid {
        grid-template-columns: repeat(auto-fit, minmax(35px, 1fr));
        gap: 8px;
      }
      
      .step-nav-button {
        padding: 6px 2px;
        font-size: 0.75rem;
        min-width: 35px;
      }
      
      .simulation-nav-button,
      .robot-nav-button {
        min-width: 35px;
        font-size: 0.75rem;
        padding: 6px 2px;
      }
      
      .demo-content {
        height: 60vh;
      }
      
      .video-grid-container {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .video-stack-container {
        gap: 10px;
      }
      
      .robot-images-container {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .image-grid-container {
        gap: 15px;
      }
      
      .demo-buttons-container {
        flex-direction: column;
        gap: 15px;
      }
      
      .demo-full-button {
        min-width: 180px;
        padding: 12px 25px;
        font-size: 1rem;
      }
        }
        
        /* Image Modal Styles */
        .image-modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.8);
          backdrop-filter: blur(5px);
        }
        
        .image-modal-content {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          max-width: 90%;
          max-height: 90%;
          background: white;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
          overflow: hidden;
        }
        
        .image-modal img {
          width: 100%;
          height: auto;
          display: block;
        }
        
        .image-modal-caption {
          padding: 15px 20px;
          background: #f8f9fa;
          border-top: 1px solid #e9ecef;
          font-size: 0.9em;
          color: #666;
          font-style: italic;
        }
        
        .image-modal-close {
          position: absolute;
          top: 10px;
          right: 15px;
          color: white;
          font-size: 28px;
          font-weight: bold;
          cursor: pointer;
          background: rgba(0, 0, 0, 0.5);
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.3s;
        }
        
        .image-modal-close:hover {
          background: rgba(0, 0, 0, 0.7);
        }
        
        .clickable-image {
          cursor: pointer;
          transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .clickable-image:hover {
          transform: scale(1.02);
          box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
        }
        
        /* Video Modal Styles */
        .video-modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.9);
          backdrop-filter: blur(5px);
        }
        
        .video-modal-content {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          max-width: 90%;
          max-height: 90%;
          background: black;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
          overflow: hidden;
        }
        
        .video-modal video {
          width: 100%;
          height: auto;
          display: block;
        }
        
        .video-modal-caption {
          padding: 15px 20px;
          background: #1a1a1a;
          border-top: 1px solid #333;
          font-size: 0.9em;
          color: #ccc;
          font-style: italic;
        }
        
        .video-modal-close {
          position: absolute;
          top: 10px;
          right: 15px;
          color: white;
          font-size: 28px;
          font-weight: bold;
          cursor: pointer;
          background: rgba(0, 0, 0, 0.7);
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.3s;
          z-index: 1001;
        }
        
        .video-modal-close:hover {
          background: rgba(0, 0, 0, 0.9);
        }
        
        .clickable-video {
          cursor: pointer;
          transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .clickable-video:hover {
          transform: scale(1.02);
          box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
        }
    </style>
</head>
<body>
    <!-- Fixed Top Navigation Bar -->
    <nav class="top-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <span>HARMONIC</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#overview" class="nav-link">Overview</a></li>
                <li><a href="#architecture" class="nav-link">Architecture</a></li>
                <li><a href="#evaluation" class="nav-link">Evaluation-1</a></li>
                <li><a href="#evaluation2" class="nav-link">Evaluation-2</a></li>
                <li><a href="#presentation" class="nav-link">Presentation</a></li>
                <li><a href="#references" class="nav-link">References</a></li>
            </ul>
            <div class="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <div class="container">
    <div class="header">
      <div class="paper-title">
        HARMONIC: A Content-Centric Cognitive Robotic Architecture
      </div>
      
      <!-- Authors Section - REMOVED FOR BLINDED SUBMISSION -->
      <div class="authors">
        <div class="placeholder" style="background-color: #fff3cd; border-color: #ffeaa7; color: #856404;">
          <strong>Authors and affiliations removed for double-blind submission</strong>
        </div>
      </div>
      
      <!-- Citation Section -->
      <div class="citation-container">
        <div class="tooltip">
          <a href="#" class="citation-button disabled" onclick="return false;">
            <i class="ai ai-arxiv"></i> Pre-print
          </a>
          <span class="tooltiptext">Available after the completion of review</span>
        </div>
        <div class="tooltip">
          <button class="citation-button disabled" onclick="return false;">
            <i class="fas fa-quote-right"></i> BibTeX
          </button>
          <span class="tooltiptext">Available after the completion of review</span>
        </div>
        <div class="tooltip">
          <button class="citation-button disabled" onclick="return false;">
            <i class="fas fa-book"></i> Citation
          </button>
          <span class="tooltiptext">Available after the completion of review</span>
        </div>
      </div>
      
      <!-- BibTeX Citation - BLINDED FOR SUBMISSION -->
      <div id="bibtex-citation" class="citation-content">
        @misc{harmonic2026contentcentriccognitive,
          title={HARMONIC: A Content-Centric Cognitive Robotic Architecture}, 
          author={[Authors removed for blinded submission]},
          year={2026},
          eprint={[arXiv ID will be added after acceptance]},
          archivePrefix={arXiv},
          primaryClass={cs.RO},
          url={[URL will be added after acceptance]}, 
        }
        <button class="copy-button" style="margin-left: 700px;" onclick="copyText('bibtex-citation')">Copy</button>
      </div>
      
      <!-- Citation Formats -->
      <div id="citation-formats" class="citation-content" style="display: none; background-color: #f5f5f5; border-radius: 4px;">
        <div style="margin-bottom: -65px;">
          <div style="font-weight: bold; margin-bottom: -50px;margin-top: -90px;">APA:</div>
          <div id="apa-text" style="margin-bottom: -50px;"></div><br>
          <button class="copy-button" style="margin-left: 700px;" onclick="copyCitationFormat('apa-text')">Copy</button>
        </div>
        <hr style="margin: 5px 0; border: none; border-top: 1px solid #ccc;">
        <div style="margin-bottom: -65px;">
          <div style="font-weight: bold; margin-bottom: 0px; margin-bottom: -50px;margin-top: -90px;">MLA:</div>
          <div id="mla-text" style="margin-bottom: -50px;"></div><br>
          <button class="copy-button"style="margin-left: 700px;" onclick="copyCitationFormat('mla-text')">Copy</button>
        </div>
        <hr style="margin: 5px 0; border: none; border-top: 1px solid #ccc;">
        <div style="margin-bottom: -65px;">
          <div style="font-weight: bold; margin-bottom: -50px;margin-top: -90px;">Chicago:</div>
          <div id="chicago-text" style="margin-bottom: -50px;"></div><br>
          <button class="copy-button" style="margin-left: 700px;" onclick="copyCitationFormat('chicago-text')">Copy</button>
        </div>
      </div>
    </div>
    
    <div class="main-content">
      <!-- Overview Section - TO BE CUSTOMIZED -->
      <section id="overview">
      <h2>Overview</h2>
      <div class="placeholder">
        The paper introduces HARMONIC (Human-AI Robotic Team Member Operating with Natural Intelligence and Communication), a content-centric cognitive robotic architecture designed to enable safe, explainable, and human-like collaboration between robots and people. HARMONIC integrates a strategic layer for high-level reasoning with a tactical layer for real-time control, inspired by Kahneman’s dual-system model of deliberative and reflexive thinking. The strategic layer, built on the OntoAgent cognitive framework, performs goal selection, plan generation, and natural language communication using explicit, inspectable knowledge representations. The tactical layer manages perception, sensorimotor control, and behavior trees for adaptive execution, ensuring that every action is grounded in verifiable data and safety constraints. This design directly addresses key challenges of current foundation-model approaches—such as data scarcity, hallucinations, and lack of transparency, while supporting long-horizon planning and human-robot teaming. Proof-of-concept demonstrations include a shipboard maintenance assistant and a multi-robot search-and-retrieve team, showcasing HARMONIC’s ability to combine explainable decision-making, natural language interaction, and robust physical execution.
      </div>
      </section>
      
      <!-- Architecture Section -->
      <section id="architecture">
      <h2>Architecture</h2>
      <div style="text-align: right; margin-bottom: 20px; color: var(--accent-color); font-weight: 600;">
        <span style="color: var(--accent-color);">💡 Interactive:</span> 
        <span style="color: var(--text-color);">Click on the highlighted areas to explore each component in detail.</span>
      </div>
      <div class="figure" style="display: flex; align-items: stretch; gap: 20px; flex-wrap: wrap;">
        <div class="interactive-architecture" style="flex: 0 0 auto; max-width: 70%;">
          <img src="assets/images/architecture/OverviewPicture1.jpg" alt="HARMONIC System Architecture">
          
          <!-- External Top Blocks -->
          <div class="architecture-hotspot dark-blue" style="top: 3%; left: 16.5%;" data-component="long-horizon-planning"></div>
          <div class="architecture-hotspot dark-blue" style="top: 7%; left: 10%;" data-component="state-tracking"></div>
          <div class="architecture-hotspot dark-blue" style="top: 7%; left: 29.75%;" data-component="task-decomposition"></div>
          <div class="architecture-hotspot dark-blue" style="top: 17%; left: 10%;" data-component="replanning"></div>
          <div class="architecture-hotspot dark-blue" style="top: 17%; left: 29.75%;" data-component="adaptation"></div>
          
          <div class="architecture-hotspot dark-blue" style="top: 3%; left: 53.25%;" data-component="metacognition"></div>
          <div class="architecture-hotspot dark-blue" style="top: 7%; left: 53.25%;" data-component="self-awareness"></div>
          <div class="architecture-hotspot dark-blue" style="top: 17%; left: 52.7%;" data-component="team-awareness"></div>
          
          <div class="architecture-hotspot dark-blue" style="top: 3%; left: 76%;" data-component="explainability"></div>
          <div class="architecture-hotspot dark-blue" style="top: 7%; left: 75%;" data-component="traceable-flows"></div>
          <div class="architecture-hotspot dark-blue" style="top: 18%; left: 74.9%;" data-component="nl-interactions"></div>
          
          <!-- System 2: Strategic Layer -->
          <div class="architecture-hotspot black" style="top: 26.25%; left: 28.5%;" data-component="system2-layer"></div>
          <div class="architecture-hotspot navy-blue" style="top: 33.5%; left: 26.5%;" data-component="ontoagent-framework"></div>
          
          <!-- OntoAgent Components -->
          <div class="architecture-hotspot navy-blue" style="top: 41.5%; left: 16%;" data-component="perception-interpretation"></div>
          <div class="architecture-hotspot navy-blue" style="top: 41.5%; left: 35%;" data-component="attention-service-s2"></div>
          <div class="architecture-hotspot navy-blue" style="top: 41.5%; left: 51%;" data-component="strategic-reasoning"></div>
          <div class="architecture-hotspot navy-blue" style="top: 41.5%; left: 73.5%;" data-component="rendering-services"></div>
          
          <!-- Communication APIs -->
          <div class="architecture-hotspot black" style="top: 55%; left: 55%;" data-component="perception-apis"></div>
          <div class="architecture-hotspot black" style="top: 55%; left: 74%;" data-component="action-apis"></div>
          
          <!-- System 1: Tactical Layer -->
          <div class="architecture-hotspot black" style="top: 84%; left: 30%;" data-component="system1-layer"></div>
          
          <!-- System 1 Components -->
          <div class="architecture-hotspot deep-green" style="top: 70%; left: 16%;" data-component="perception-services"></div>
          <div class="architecture-hotspot deep-green" style="top: 70%; left: 35%;" data-component="attention-service-s1"></div>
          <div class="architecture-hotspot deep-green" style="top: 70%; left: 52%;" data-component="tactical-reasoning"></div>
          <!-- Behavior Trees (activated) -->
          <div class="architecture-hotspot deep-green" style="top: 78.5%; left: 54%;" data-component="behavior-trees"></div>
          <div class="architecture-hotspot deep-green" style="top: 70%; left: 74%;" data-component="effector-services"></div>
          
          <!-- Perception Inputs (Left Side) -->
          <div class="architecture-hotspot black" style="top: 45%; left: 2.5%;" data-component="perception-inputs"></div>
          <!-- <div class="architecture-hotspot" style="top: 45%; left: 5%;" data-component="environment-perception"></div>
          <div class="architecture-hotspot" style="top: 50%; left: 5%;" data-component="speech-input"></div>
          <div class="architecture-hotspot" style="top: 55%; left: 5%;" data-component="health-monitoring"></div> -->
          
          <!-- Action Outputs (Right Side) -->
          <div class="architecture-hotspot black" style="top: 43%; left: 90%;" data-component="action-outputs"></div>
          <!-- <div class="architecture-hotspot" style="top: 45%; left: 88%;" data-component="motor-control"></div>
          <div class="architecture-hotspot" style="top: 50%; left: 88%;" data-component="actuator-control"></div>
          <div class="architecture-hotspot" style="top: 55%; left: 88%;" data-component="audio-output"></div> -->
          
          <!-- Bottom External Modules -->
          <div class="architecture-hotspot dark-green" style="top: 95.5%; left: 10%;" data-component="perception-mapping"></div>
          <div class="architecture-hotspot dark-green" style="top: 95.5%; left: 28.9%;" data-component="reactive-planning"></div>
          <div class="architecture-hotspot dark-green" style="top: 95.5%; left: 55%;" data-component="short-horizon-plans"></div>
          <div class="architecture-hotspot dark-green" style="top: 95.5%; left: 73%;" data-component="actuation-policies"></div>
        </div>
        
        <!-- Information Panel -->
        <div class="architecture-info-panel">
          <div id="info-panel-content">
            <div class="default-message">
              <i class="fas fa-hand-pointer"></i>
              <strong>Interactive Architecture</strong><br>
              Click on the highlighted areas to learn more about each component of the HARMONIC system.
            </div>
          </div>
        </div>
        
        <div class="figure-caption">
          <p>An overview of the HARMONIC framework, showing the Strategic and Tactical components representing the high-level planning (System 2) and low-level execution (System 1), respectively.</p>
        </div>
      </div>
      </section>
      
      
      
      <!-- Evaluation Results Section - TO BE CUSTOMIZED -->
      <section id="evaluation">
      <h2>Evaluation - 1 (Shipboard maintenance)</h2>
      <div class="interactive-demo">
        <div class="demo-header">
          <div class="demo-title">Step-by-Step HARMONIC Reasoning Process</div>
          <div class="demo-description">
            This interactive demonstration shows how HARMONIC processes natural language input, 
            reasons about the situation, and executes multi-step plans. <strong>Click any step number above to jump directly to that part of the process</strong>, or use the Previous/Next buttons to go through sequentially. Each step shows the detailed cognitive reasoning behind HARMONIC's decision-making.
          </div>
          <div class="scenario-description" style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, rgba(52, 152, 219, 0.08) 0%, rgba(155, 89, 182, 0.08) 100%); border-radius: 12px; border: 1px solid rgba(52, 152, 219, 0.2); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); position: relative; overflow: hidden;">
            <div style="position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: linear-gradient(180deg, var(--accent-color) 0%, #9b59b6 100%);"></div>
            <div style="position: relative; z-index: 1;">
              <div style="display: flex; align-items: center; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; background: linear-gradient(135deg, var(--accent-color) 0%, #9b59b6 100%); border-radius: 3px; margin-right: 12px; transform: rotate(45deg); box-shadow: 0 2px 6px rgba(52, 152, 219, 0.3);"></div>
                <h4 style="margin: 0; color: var(--accent-color); font-size: 16px; font-weight: 600; letter-spacing: 0.5px;">SCENARIO 1</h4>
              </div>
              <p style="margin: 0; font-style: italic; color: var(--text-color); line-height: 1.7; font-size: 15px; text-align: justify;">
                In a shipboard maintenance team, the robot assistant, <strong style="color: var(--accent-color); font-style: normal;">LEIA2</strong>, interacts conversationally with the maintenance mechanic, <strong style="color: var(--accent-color); font-style: normal;">Daniel</strong>, assists in diagnosing engine issues, and supports maintenance tasks by locating and retrieving necessary replacement parts.
              </p>
            </div>
          </div>
        </div>
        
        <div class="demo-controls">
          <button class="demo-button" id="prevStep" onclick="previousStep()">← Previous</button>
          <button class="demo-button" id="nextStep" onclick="nextStep()">Next →</button>
          <button class="demo-button" id="autoPlayBtn" onclick="toggleAutoPlay()">Auto Play</button>
          <button class="demo-button simulation-button" onclick="goToStep(29)" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
            Watch Simulation Demo
          </button>
          <button class="demo-button robot-button" onclick="goToStep(30)" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none;">
            Watch Real-Robot Demo
          </button>
          <div class="step-counter">
            Step <span id="currentStep">0</span> of <span id="totalSteps">30</span>
          </div>
        </div>
        
        <!-- Step Navigation Menu -->
        <div class="step-navigation">
          <div class="step-nav-title">Jump to Step:</div>
          <div class="step-nav-grid" id="stepNavGrid">
            <!-- Step navigation buttons will be generated by JavaScript -->
          </div>
        </div>
        
        <div class="demo-content" id="demoContent">
          <!-- Introduction -->
          <div class="demo-step active" id="step0" style="display: none;">
            <div class="step-title">
              <span class="step-number">0</span>
              Understanding HARMONIC's Reasoning Process
            </div>
            <div class="step-content">
              <p><strong>Welcome to the HARMONIC Interactive Demo!</strong></p>
              <p>This demonstration shows how HARMONIC processes a real-world scenario: a shipboard maintenance situation where a human reports an engine overheating problem and requests help.</p>
              
              <h4>What You'll See:</h4>
              <ul>
                <li><strong>Natural Language Understanding:</strong> How HARMONIC interprets human speech and creates structured representations</li>
                <li><strong>Conversation Patterns:</strong> How the system knows what responses are appropriate in different situations</li>
                <li><strong>Knowledge-Based Reasoning:</strong> How HARMONIC searches its knowledge base to provide informed responses</li>
                <li><strong>Multi-Step Planning:</strong> How the system breaks down complex tasks into manageable steps</li>
                <li><strong>Physical Action Integration:</strong> How reasoning connects to actual robot behavior</li>
              </ul>
              
              <h4>Key Concepts:</h4>
              <ul>
                <li><strong>GMR (Graphical Meaning Representation):</strong> Structured representations of meaning that HARMONIC uses internally</li>
                <li><strong>Adjacency Pairs:</strong> Conversation patterns that help HARMONIC know what to do next</li>
                <li><strong>Ontology:</strong> HARMONIC's knowledge base containing information about objects, relationships, and procedures</li>
                <li><strong>Plan Status:</strong> How HARMONIC tracks and manages multiple tasks simultaneously</li>
              </ul>
              
              <p><strong>Ready to explore?</strong> Click "Next" or any step number above to begin!</p>
            </div>
          </div>
          
          <!-- Step 1 -->
          <div class="demo-step active" id="step1">
            <div class="step-title">
              <span class="step-number">1</span>
              Human Input: "It looks like the engine is overheating."
            </div>
            <div class="step-content">
              <div class="human-input">
                <strong>Human:</strong> "It looks like the engine is overheating."
              </div>
              <p><strong>What's happening:</strong> A human crew member reports a problem to the HARMONIC robot assistant. The system needs to understand not just the words, but the meaning and context behind them.</p>
              <p><strong>HARMONIC's interpretation:</strong> The system recognizes this as a mechanical problem description and creates a structured representation:</p>
              <pre class="code-block"><code>#DESCRIBE-MECHANICAL-PROBLEM.1
    agent               #HUMAN.1            // The speaker is describing
    beneficiary         #LEIA.1             // to the robot
    theme               #OVERHEAT.1         // the overheating.

#OVERHEAT.1
    theme               #ENGINE.1           // The engine is what is overheating.

#ENGINE.1
    corefer             ->ENGINE.1          // It is understood as the specific engine in the room.

#MODALITY.1
    attributed-to       #HUMAN.1            // The speaker
    type                BELIEF              // believes
    value               0.8                 // with relative certainty
    scope               #ASPECT.1           // that

#ASPECT.1
    scope               #OVERHEAT.1         // the state of overheating
    phase               CONTINUE            // is happening now.</code></pre>
            </div>
          </div>
          
          <!-- Step 2 -->
          <div class="demo-step" id="step2">
            <div class="step-title">
              <span class="step-number">2</span>
              Adjacency Pair Activation
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> HARMONIC's knowledge base contains "conversation patterns" that help it understand what typically happens after certain types of statements. This is like knowing that after someone says "I have a problem," you usually ask "What's wrong?" or offer help.</p>
              <p><strong>HARMONIC's reasoning:</strong> The system recognizes this as a problem description and knows that the appropriate response is to investigate potential causes. This is defined in the ontology as an "adjacency pair" - a conversation pattern:</p>
              <pre class="code-block"><code>@DESCRIBE-MECHANICAL-PROBLEM
    agent                   /HUMAN.1
    beneficiary             /LEIA.1
    theme                   /MECHANICAL-PROBLEM.1
    adjacency-pair-next     /HYPOTHESIZE-MECHANICAL-PROBLEM-CAUSE.1

/HYPOTHESIZE-MECHANICAL-PROBLEM-CAUSE.1
    agent                   /LEIA.1                 // The hypothesizer is the describee,
    beneficiary             /HUMAN.1                // the hypothesizee is the describer,
    theme                   /MECHANICAL-PROBLEM.1   // and the hypothesized cause is based on the described problem.</code></pre>
            </div>
          </div>
          
          <!-- Step 3 -->
          <div class="demo-step" id="step3">
            <div class="step-title">
              <span class="step-number">3</span>
              Plan Generation
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> Based on the conversation pattern, HARMONIC creates a specific plan to respond appropriately. Think of this like a human deciding "I should help diagnose this problem" after hearing about an issue.</p>
              <p><strong>HARMONIC's action:</strong> The system creates a concrete plan and adds it to its task list (agenda):</p>
              <pre class="code-block"><code>Plan.1
    #HYPOTHESIZE-MECHANICAL-PROBLEM-CAUSE.1
        agent               #LEIA.1                             // The agent will respond
        beneficiary         #HUMAN.1                            // to the speaker,
        theme               #OVERHEAT.1                         // about the engine's temperature.</code></pre>
            </div>
          </div>
          
          <!-- Step 4 -->
          <div class="demo-step" id="step4">
            <div class="step-title">
              <span class="step-number">4</span>
              Action Procedure Definition
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> HARMONIC needs to know exactly what to do to fulfill this plan. This is like a human thinking "To help diagnose this, I need to search my knowledge for possible causes."</p>
              <p><strong>HARMONIC's procedure:</strong> The system defines a specific action to take - this is a simple, atomic action that can't be broken down further:</p>
              <pre class="code-block"><code>@HYPOTHESIZE-MECHANICAL-PROBLEM-CAUSE
    *take-this-action       "Search the ontology for potential causes of the described problem report."
                            // Requires a @SPEECH-EFFECTOR.</code></pre>
            </div>
          </div>
          
          <!-- Step 5 -->
          <div class="demo-step" id="step5">
            <div class="step-title">
              <span class="step-number">5</span>
              Plan Execution
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> HARMONIC is now executing its plan to help diagnose the overheating problem. This is like a human mechanic thinking through what could cause an engine to overheat.</p>
              <p><strong>HARMONIC's execution process:</strong></p>
              <p>a) <strong>Check prerequisites:</strong> The system verifies it can proceed (no missing information or blocked conditions)</p>
              <p>b) <strong>Execute the procedure:</strong> HARMONIC searches its knowledge base for relevant information</p>
              <p>c) <strong>Knowledge base search:</strong> The system finds relevant information about engines and overheating:</p>
              <pre class="code-block"><code>@ENGINE
    theme-of            /OVERHEAT.1             // The engine can overheat.
    has-object-as-part  /THERMOSTAT.1           // The engine has a thermostat.

/OVERHEAT.1
    caused-by           /OBSTRUCT.1             // The overheating can be caused be an obstruction.
    caused-by           /STATE-OF-REPAIR.1      // The overheating can be caused by poor conditions.

/OBSTRUCT.1
    theme               /PIPE.1                 // The obstruction is of a pipe.

/STATE-OF-REPAIR.1
    domain              /THERMOSTAT.1           // The thermostat
    range               &lt; 0.7                   // might be faulty.</code></pre>
              <p>d) <strong>Analysis result:</strong> HARMONIC identifies two possible causes: a clogged pipe or a faulty thermostat. This is like a mechanic saying "It could be the cooling system or the temperature control."</p>
            </div>
          </div>
          
          <!-- Step 6 -->
          <div class="demo-step" id="step6">
            <div class="step-title">
              <span class="step-number">6</span>
              Response Generation
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> HARMONIC now needs to communicate its findings to the human in a clear, structured way. The system creates a formal representation of what it wants to say.</p>
              <p><strong>HARMONIC's response construction:</strong> The system builds a structured representation (GMR) of its intended response:</p>
              <pre class="code-block"><code>#ALTERNATIVE.1                                  // It might be either of two options,
    domain              #MODALITY.1
    range               #MODALITY.2

#MODALITY.1                                     // that a pipe is obstructed,
    type                EPISTEMIC
    value               0.5
    scope               #OBSTRUCT.1

#MODALITY.2                                     // or the thermostat is broken.
    type                EPISTEMIC
    value               0.5
    scope               #STATE-OF-REPAIR.1

#OBSTRUCT.1
    theme               @PIPE

#STATE-OF-REPAIR.1
    domain              @THERMOSTAT
    range               &lt; 0.7</code></pre>
              <p><strong>Text generation:</strong> The structured representation is converted into natural language that the human can understand:</p>
              <div class="robot-response">
                <strong>LEIA:</strong> "The thermostat might be broken or a pipe might be clogged."
              </div>
              <p><strong>Task management:</strong> While generating the response, HARMONIC continues monitoring its task list. Since this is the only active task, it waits for completion before moving on.</p>
              <p><strong>Completion:</strong> Once the response is delivered, the task is marked as complete:</p>
              <div class="plan-status status-finished">Plan.1 is FINISHED (the task is complete).</div>
            </div>
          </div>
          
          <!-- Step 7 -->
          <div class="demo-step" id="step7">
            <div class="step-title">
              <span class="step-number">7</span>
              Follow-up Question
            </div>
            <div class="step-content">
              <div class="human-input">
                <strong>Human:</strong> "When did we last replace the thermostat?"
              </div>
              <p><strong>What's happening:</strong> The human is now asking for specific historical information to help with the diagnosis. This is like asking "When did we last service this part?" to help determine if it might be the cause.</p>
              <p><strong>HARMONIC's interpretation:</strong> The system recognizes this as a request for temporal (time-based) information and creates a structured understanding:</p>
              <pre class="code-block"><code>#REQUEST-INFO-WHEN.1
    agent                   #HUMAN.1            // The speaker asks
    beneficiary             #LEIA.1             // the agent
    theme                   #EXCHANGE.1         // when the replacement happened.

#TEAM.1
    corefer                 ->TEAM.1            // "we" is understood as the @TEAM that the human and LEIA are on.

#EXCHANGE.1
    agent                   #TEAM.1             // The replacement happened by the team (or someone on it).
    theme                   #THERMOSTAT.1       // The replacement was a thermostat,

#THERMOSTAT.1
    corefer                 ->THERMOSTAT.1      // which is understood as the thermostat on the engine in the room.</code></pre>
            </div>
          </div>
          
          <!-- Step 8 -->
          <div class="demo-step" id="step8">
            <div class="step-title">
              <span class="step-number">8</span>
              Adjacency Pair Activation
            </div>
            <div class="step-content">
              <p>The root frame is defined in the ontology with an "adjacency pair", which prompts the agent to consider what should happen next:</p>
              <pre class="code-block"><code>@REQUEST-INFO-WHEN
    agent                   /HUMAN.1
    beneficiary             /LEIA.1
    theme                   /EVENT.1
    adjacency-pair-next     /RESPOND-TO-REQUEST-INFO-WHEN.1

/RESPOND-TO-REQUEST-INFO-WHEN.1
    agent                   /LEIA.1                 // The responder is the askee,
    beneficiary             /HUMAN.1                // the asker is the respondee,
    theme                   /EVENT.1                // and the response is about the asked event.</code></pre>
            </div>
          </div>
          
          <!-- Step 9 -->
          <div class="demo-step" id="step9">
            <div class="step-title">
              <span class="step-number">9</span>
              Plan Generation
            </div>
            <div class="step-content">
              <p>The agent makes a new plan following the adjacency pair, and puts it on agenda:</p>
              <pre class="code-block"><code>Plan.2
    #RESPOND-TO-REQUEST-INFO-WHEN.1
        agent               #LEIA.1                             // The agent will respond
        beneficiary         #HUMAN.1                            // to the speaker,
        theme               #EXCHANGE.1                         // about the last replacement

    #EXCHANGE.1
        theme               #THERMOSTAT.1                       // of the thermostat
        agent               #TEAM.1                             // by the team.</code></pre>
            </div>
          </div>
          
          <!-- Step 10 -->
          <div class="demo-step" id="step10">
            <div class="step-title">
              <span class="step-number">10</span>
              Action Procedure Definition
            </div>
            <div class="step-content">
              <p>The plan represents an atomic (reflexive) action; it has no substeps that the agent can decompose, but it does have a *take-this-action procedure, defined (in gloss) as:</p>
              <pre class="code-block"><code>@RESPOND-TO-REQUEST-INFO-WHEN
    *take-this-action       "Lookup the database of maintenance logs, and report the answer."
                            // Requires a @SPEECH-EFFECTOR.</code></pre>
            </div>
          </div>
          
          <!-- Step 11 -->
          <div class="demo-step" id="step11">
            <div class="step-title">
              <span class="step-number">11</span>
              Plan Execution
            </div>
            <div class="step-content">
              <p>The agent activates the plan.</p>
              <p>a) The NEXT step selected is #RESPOND-TO-REQUEST-INFO-WHEN.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The database of maintenance logs has the following relevant information:</p>
              <pre class="code-block"><code>Maintenance logs found:

replaced thermostat, 6/2/2014
oiled gears, 2/5/2017
oiled gears, 3/6/2018
replaced thermostat, 9/17/2019
oiled gears, 4/22/2020</code></pre>
              <p>d) The determined result is 9/17/2019.</p>
              <p>e) The agent builds the following GMR to represent its intended report:</p>
              <pre class="code-block"><code>#DESCRIBE-TIME.1
    agent               #LEIA.1
    beneficiary         #HUMAN.1
    absolute-time       9/17/2019</code></pre>
              <p>f) The GMR is sent to the text generation system, which produces:</p>
              <div class="robot-response">
                <strong>LEIA:</strong> "5 years ago."
              </div>
              <p>g) The agent continues to attend to its agenda during the time this takes:</p>
              <p>Plan.2 is RUNNING, so there is no effect (it must finish before continuing).</p>
              <p>h) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-finished">Plan.2 is FINISHED (the task is complete).</div>
            </div>
          </div>
          
          <!-- Step 12 -->
          <div class="demo-step" id="step12">
            <div class="step-title">
              <span class="step-number">12</span>
              Action Request
            </div>
            <div class="step-content">
              <div class="human-input">
                <strong>Human:</strong> "Ok. Bring me a new thermostat."
              </div>
              <p><strong>What's happening:</strong> Based on the diagnosis, the human has decided to replace the thermostat and is now asking HARMONIC to physically retrieve a new one. This shifts from information exchange to physical action.</p>
              <p><strong>HARMONIC's interpretation:</strong> The system recognizes this as a request for physical action (fetching an object) and creates a structured understanding:</p>
              <pre class="code-block"><code>#REQUEST-ACTION-FETCH.1
    agent                   #HUMAN.1            // The speaker is asking
    beneficiary             #LEIA.1             // the listener to fetch
    theme                   #THERMOSTAT.1       // a thermostat

#THERMOSTAT.1
    age                     0.0001 <> 0.1       // that is new.
                                                    // Importantly, there is no corefer - which thermostat is not known.</code></pre>
            </div>
          </div>
          
          <!-- Step 13 -->
          <div class="demo-step" id="step13">
            <div class="step-title">
              <span class="step-number">13</span>
              Adjacency Pair Activation
            </div>
            <div class="step-content">
              <p>The root frame is defined in the ontology with an "adjacency pair", which prompts the agent to consider what should happen next:</p>
              <pre class="code-block"><code>@REQUEST-ACTION-FETCH
    agent                   /HUMAN.1
    beneficiary             /LEIA.1
    theme                   /PHYSICAL-OBJECT.1
    adjacency-pair-next     /FETCH.1

/FETCH.1
    agent                   /LEIA.1                 // The askee is the fetcher,
    beneficiary             /HUMAN.1                // the asker is the fetchee,
    theme                   /PHYSICAL-OBJECT.1      // and the object being asked for is what is returned.</code></pre>
            </div>
          </div>
          
          <!-- Step 14 -->
          <div class="demo-step" id="step14">
            <div class="step-title">
              <span class="step-number">14</span>
              Plan Generation
            </div>
            <div class="step-content">
              <p>The agent makes a new plan following the adjacency pair, and puts it on agenda:</p>
              <pre class="code-block"><code>Plan.3
    #FETCH.1
        agent               #LEIA.1                             // The agent will fetch
        beneficiary         #HUMAN.1                            // for the speaker,
        theme               #THERMOSTAT.1                       // a thermostat that is new.
        precondition        #THERMOSTAT.features NOT NULL       // Any discerning features must be known.

    #THERMOSTAT.1
        age                 0.0001 <> 0.1</code></pre>
            </div>
          </div>
          
          <!-- Step 15 -->
          <div class="demo-step" id="step15">
            <div class="step-title">
              <span class="step-number">15</span>
              Multi-Step Plan Definition
            </div>
            <div class="step-content">
              <p>The plan represents a multi-step action, the entirety of which is moved into the plan (not shown):</p>
              <pre class="code-block"><code>@FETCH
    agent                   /LEIA.1
    beneficiary             /HUMAN.1
    theme                   /PHYSICAL-OBJECT.1

    has-event-as-part       /BACKCHANNEL.1                      // Confirm (if this was from a request).
    has-event-as-part       /SEARCH.1                           // Search using the embodied search algorithm.
    has-event-as-part       /WAIT-EVENT.1                       // Keep searching until the object is found.
    has-event-as-part       /PICK-UP.1                          // Pick up the object.
    has-event-as-part       /NAVIGATE-TO.1                      // Navigate to the beneficiary.
    has-event-as-part       /GIVE.1                             // Give the object to the beneficiary.

    starts                  /BACKCHANNEL.1

/BACKCHANNEL.1
    agent                   /LEIA.1
    beneficiary             /HUMAN.1
    meets                   /SEARCH.1

/SEARCH.1
    agent                   /LEIA.1
    theme                   /PHYSICAL-OBJECT.1
    meets                   /WAIT-EVENT.1

/WAIT-EVENT.1
    agent                   /LEIA.1
    theme                   /PHYSICAL-OBJECT.1.absolute-location NOT NULL
    meets                   /PICK-UP.1

/PICK-UP.1
    agent                   /LEIA.1
    theme                   /PHYSICAL-OBJECT.1
    meets                   /NAVIGATE-TO.1

/NAVIGATE-TO.1
    agent                   /LEIA.1
    theme                   /HUMAN.1
    meets                   /GIVE.1

/GIVE.1
    agent                   /LEIA.1
    theme                   /PHYSICAL-OBJECT.1
    beneficiary             /HUMAN.1</code></pre>
            </div>
          </div>
          
          <!-- Step 16 -->
          <div class="demo-step" id="step16">
            <div class="step-title">
              <span class="step-number">16</span>
              Precondition Check
            </div>
            <div class="step-content">
              <p><strong>What's happening:</strong> HARMONIC tries to start the fetch task but realizes it doesn't have enough information to proceed. This is like a human saying "I need to know what the thermostat looks like before I can find it."</p>
              <p><strong>HARMONIC's problem detection:</strong> The system checks if it has all the information needed to complete the task. It discovers that while it knows it needs to find a "thermostat," it doesn't know what specific thermostat to look for or how to identify it:</p>
              <pre class="code-block"><code>Precondition Check:
#THERMOSTAT.features NOT NULL
❌ FAILED - Features not known</code></pre>
            </div>
          </div>
          
          <!-- Step 17 -->
          <div class="demo-step" id="step17">
            <div class="step-title">
              <span class="step-number">17</span>
              Information Request Plan
            </div>
            <div class="step-content">
              <p>The agent looks in its ontology for a plan that can satisfy the precondition. It finds the following:</p>
              <pre class="code-block"><code>@REQUEST-INFO-VISUAL-DETAILS
    agent                   /LEIA.1
    beneficiary             /HUMAN.1
    theme                   @PHYSICAL-OBJECT
    effect                  $.theme.features NOT NULL       // After this event, the features of the object will be known.
    has-event-as-part       /RENDER-GMR.1
    has-event-as-part       /WAIT-EVENT.1
    starts                  /RENDER-GMR.1

/RENDER-GMR.1                                               // First the agent asks the question.
    agent                   /LEIA.1
    beneficiary             /HUMAN.1
    meets                   /WAIT-EVENT.1

/WAIT-EVENT.1
    agent                   /LEIA.1                         // Then the agent awaits a response.
    theme                   $.theme.features NOT NULL</code></pre>
            </div>
          </div>
          
          <!-- Step 18 -->
          <div class="demo-step" id="step18">
            <div class="step-title">
              <span class="step-number">18</span>
              Sub-Plan Creation
            </div>
            <div class="step-content">
              <p>The agent makes a plan to satisfy the precondition:</p>
              <pre class="code-block"><code>Plan.4
    #REQUEST-INFO-VISUAL-DETAILS.1
        agent               #LEIA.1
        beneficiary         #HUMAN.1
        theme               #THERMOSTAT.1
        has-event-as-part   #RENDER-GMR.1
        has-event-as-part   #WAIT-EVENT.1
        starts              #RENDER-GMR.1

    #RENDER-GMR.1
        agent               #LEIA.1
        beneficiary         #HUMAN.1
        meets               #WAIT-EVENT.1

    #WAIT-EVENT.1
        agent               #LEIA.1
        theme               #THERMOSTAT.1.features NOT NULL</code></pre>
            </div>
          </div>
          
          <!-- Step 19 -->
          <div class="demo-step" id="step19">
            <div class="step-title">
              <span class="step-number">19</span>
              Plan Activation
            </div>
            <div class="step-content">
              <p>The agent activates the plan.</p>
              <p>a) The NEXT step selected is #RENDER-GMR.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The GMR is sent to the text generation system, which produces:</p>
              <div class="robot-response">
                <strong>LEIA:</strong> "What does it look like?"
              </div>
              <p>d) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-impassed">Plan.3 is IMPASSED, so there is no effect (it must finish before continuing).</div>
              <div class="plan-status status-running">Plan.4 is RUNNING, so there is no effect (it must finish before continuing).</div>
              <p>h) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-impassed">Plan.3 is IMPASSED, so there is no effect (it must finish before continuing).</div>
              <div class="plan-status status-pending">Plan.4 is PENDING (the step is complete, but the plan is not).</div>
            </div>
          </div>
          
          <!-- Step 20 -->
          <div class="demo-step" id="step20">
            <div class="step-title">
              <span class="step-number">20</span>
              Plan Activation (Continued)
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The NEXT step selected is #WAIT-EVENT.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-impassed">Plan.3 is IMPASSED, so there is no effect (it must finish before continuing).</div>
              <div class="plan-status status-running">Plan.4 is RUNNING, so there is no effect (it must finish before continuing).</div>
            </div>
          </div>
          
          <!-- Step 21 -->
          <div class="demo-step" id="step21">
            <div class="step-title">
              <span class="step-number">21</span>
              Human Response
            </div>
            <div class="step-content">
              <div class="human-input">
                <strong>Human:</strong> "It is labeled thermostat."
              </div>
              <p><strong>What's happening:</strong> The human provides the missing information that HARMONIC needs to identify the correct object. This is like telling someone "Look for the box that says 'thermostat' on it."</p>
              <p><strong>HARMONIC's information update:</strong> The system now updates its knowledge with the visual details needed to identify the object:</p>
              <pre class="code-block"><code>#DESCRIBE-INFO-VISUAL-DETAILS.1
    agent                   #HUMAN.1
    beneficiary             #LEIA.1
    theme                   #THERMOSTAT.1       // Visual details of the thermostat are

#THERMOSTAT.1
    has-label               "thermostat"        // that is has a label "thermostat" on it.</code></pre>
            </div>
          </div>
          
          <!-- Step 22 -->
          <div class="demo-step" id="step22">
            <div class="step-title">
              <span class="step-number">22</span>
              Plan Status Update
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING, as the precondition is now satisfied.</div>
              <div class="plan-status status-finished">Plan.4 is FINISHED, as the wait condition is now complete.</div>
              <p>b) The NEXT step selected is #BACKCHANNEL.1, which has no preconditions that are failing.</p>
              <p>c) The procedure is executed.</p>
              <p>d) The agent generates the following text:</p>
              <div class="robot-response">
                <strong>LEIA:</strong> "On it!"
              </div>
              <p>e) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-running">Plan.3 is RUNNING, so there is no effect (it must finish before continuing).</div>
              <p>f) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING (the step is complete, but the plan is not).</div>
            </div>
          </div>
          
          <!-- Step 23 -->
          <div class="demo-step" id="step23">
            <div class="step-title">
              <span class="step-number">23</span>
              Search Initiation
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The NEXT step selected is #SEARCH.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The agent begins the embodied search heuristic.</p>
              
              <!-- Video snippets for search initiation -->
              <div class="video-grid-container" style="margin: 20px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start;">
                <!-- Left side: Simulation -->
                <div class="video-container" style="text-align: center;">
                  <video controls muted autoplay loop class="step-video" style="width: 100%; border-radius: 4px;">
                    <source src="assets/videos/demos/search_simulation.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <div class="figure-caption">
                    <p><strong>Simulation View</strong></p>
                  </div>
                </div>
                
                <!-- Right side: Robot view -->
                <div class="video-container" style="text-align: center;">
                  <video controls muted autoplay loop class="step-video" style="width: 100%; border-radius: 4px;">
                    <source src="assets/videos/demos/search_robot_view.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <div class="figure-caption">
                    <p><strong>Robot View</strong></p>
                  </div>
                </div>
              </div>
              
              <p>d) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-running">Plan.3 is RUNNING, so there is no effect (it must finish before continuing).</div>
              <p>e) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING (the step is complete, but the plan is not).</div>
              <p>This procedure is specifically asynchronous - the search continues, but the plan moves on.</p>
            </div>
          </div>
          
          <!-- Step 24 -->
          <div class="demo-step" id="step24">
            <div class="step-title">
              <span class="step-number">24</span>
              Wait for Object Location
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The NEXT step selected is #WAIT-EVENT.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The agent now waits for the location of the thermostat to be known.</p>
              <p>d) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-running">Plan.3 is RUNNING, so there is no effect (it must finish before continuing).</div>
            </div>
          </div>
          
          <!-- Step 25 -->
          <div class="demo-step" id="step25">
            <div class="step-title">
              <span class="step-number">25</span>
              Object Detection
            </div>
            <div class="step-content">
              <p>New visual data is observed, resulting in the following VMR:</p>
              
              <!-- Images for object detection -->
              <div class="image-grid-container" style="margin: 20px 0; display: flex; flex-direction: column; gap: 20px; align-items: center;">
                <!-- Top: Simulation image -->
                <div class="image-container" style="text-align: center;">
                  <img src="assets/images/results/object_detection_simulation.jpg" alt="Object Detection Simulation" style="max-width: 80%; border-radius: 4px; border: 1px solid var(--border-color); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div class="figure-caption">
                    <p><strong>Simulation View</strong></p>
                  </div>
                </div>
                
                <!-- Bottom: Robot images -->
                <div class="robot-images-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; max-width: 800px;">
                  <div class="image-container" style="text-align: center;">
                    <img src="assets/images/results/object_detection_robot1.jpg" alt="Robot View 1" style="width: 100%; border-radius: 4px; border: 1px solid var(--border-color); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                    <div class="figure-caption">
                      <p><strong>Robot View 1</strong></p>
                    </div>
                  </div>
                  
                  <div class="image-container" style="text-align: center;">
                    <img src="assets/images/results/object_detection_robot2.jpg" alt="Robot View 2" style="width: 100%; border-radius: 4px; border: 1px solid var(--border-color); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                    <div class="figure-caption">
                      <p><strong>Robot View 2</strong></p>
                    </div>
                  </div>
                </div>
              </div>
              
              <pre class="code-block"><code>#VOLUNTARY-VISUAL-EVENT.1
    agent                   #LEIA.1
    theme                   #THERMOSTAT.1
        
#THERMOSTAT.1
    has-label               "thermostat"
    absolute-location       37.5, 19.2, 86.3
    on-top-of               ->SHELF.1</code></pre>
            </div>
          </div>
          
          <!-- Step 26 -->
          <div class="demo-step" id="step26">
            <div class="step-title">
              <span class="step-number">26</span>
              Object Pickup
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The awaited condition by #WAIT-EVENT.1 is now satisfied, so:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING (the step is complete, but the plan is not).</div>
              <p>b) The NEXT step selected is #PICK-UP.1, which has no preconditions that are failing.</p>
              <p>c) The procedure is executed.</p>
              <p>d) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-running">Plan.3 is RUNNING, so there is no effect (it must finish before continuing).</div>
              <p>e) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING (the step is complete, but the plan is not).</div>
              
              <!-- Videos for object pickup -->
              <div class="video-grid-container" style="margin: 20px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start;">
                <!-- Left side: Simulation -->
                <div class="video-container" style="text-align: center;">
                  <video controls muted autoplay loop class="step-video" style="width: 100%; border-radius: 4px;">
                    <source src="assets/videos/demos/object_pickup_simulation.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <div class="figure-caption">
                    <p><strong>Simulation</strong></p>
                  </div>
                </div>
                
                <!-- Right side: Robot -->
                <div class="video-container" style="text-align: center;">
                  <video controls muted autoplay loop class="step-video" style="width: 100%; border-radius: 4px;">
                    <source src="assets/videos/demos/object_pickup_robot.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <div class="figure-caption">
                    <p><strong>Robot</strong></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Step 27 -->
          <div class="demo-step" id="step27">
            <div class="step-title">
              <span class="step-number">27</span>
              Navigation
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The NEXT step selected is #NAVIGATE-TO.1, which has no preconditions that are failing.</p>
              <p>b) The procedure is executed.</p>
              <p>c) The agent continues to attend to its agenda during the time this takes:</p>
              <div class="plan-status status-running">Plan.3 is RUNNING, so there is no effect (it must finish before continuing).</div>
              <p>e) The procedure finishes, which sends a callback:</p>
              <div class="plan-status status-pending">Plan.3 is PENDING (the step is complete, but the plan is not).</div>
            </div>
          </div>
          
          <!-- Step 28 -->
          <div class="demo-step" id="step28">
            <div class="step-title">
              <span class="step-number">28</span>
              Delivery
            </div>
            <div class="step-content">
              <p>The agent activates the plan (again).</p>
              <p>a) The NEXT step selected is #GIVE.1, which has no preconditions that are failing.</p>
              <p>b) @GIVE is a multi-step event (not shown) that causes the agent to:</p>
              <ul>
                <li>Say "Here you go." while simultaneously,</li>
                <li>offer the thermostat to the speaker.</li>
              </ul>
              <div class="robot-response">
                <strong>LEIA:</strong> "Here you go."
              </div>
              <p><strong>Task completion:</strong> The entire fetch task is now complete:</p>
              <div class="plan-status status-finished">Plan.3 FINISHED</div>
              <p><strong>Summary:</strong> HARMONIC has successfully completed the entire interaction cycle: understanding the problem, diagnosing potential causes, providing historical information, and physically retrieving the requested object. This demonstrates the system's ability to seamlessly integrate natural language understanding, reasoning, and physical action.</p>
            </div>
          </div>
          
          <!-- Step 29 -->
          <div class="demo-step" id="step29">
            <div class="step-title">
              <span class="step-number">29</span>
              Watch Full Demo - Simulation
            </div>
            <div class="step-content">
              <p><strong>Complete HARMONIC Simulation Demonstration</strong></p>
              <p>Watch the full simulation showing HARMONIC's complete reasoning and execution process in a simulated environment.</p>
              
              <!-- Full-width simulation video -->
              <div class="full-width-video-container" style="margin: 30px 0; width: 100%;">
                <video controls muted autoplay loop class="full-demo-video" style="width: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);">
                  <source src="assets/videos/demos/full_simulation_demo.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
                <div class="figure-caption">
                  <p><strong>Complete HARMONIC Simulation Demo</strong></p>
                </div>
              </div>
              
            </div>
          </div>
          
          <!-- Step 30 -->
          <div class="demo-step" id="step30">
            <div class="step-title">
              <span class="step-number">30</span>
              Watch Full Demo - Real-Robot
            </div>
            <div class="step-content">
              <p><strong>Complete HARMONIC Real-Robot Demonstration</strong></p>
              <p>Watch the full real-robot demonstration showing HARMONIC's complete reasoning and execution process with physical hardware.</p>
              
              <!-- Full-width robot video -->
              <div class="full-width-video-container" style="margin: 30px 0; width: 100%;">
                <video controls muted autoplay loop class="full-demo-video" style="width: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);">
                  <source src="assets/videos/demos/full_robot_demo.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
                <div class="figure-caption">
                  <p><strong>Complete HARMONIC Real-Robot Demo</strong></p>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      </section>
      
      <hr class="section-divider">

      <!-- 3 Minute Presentation Section -->
      <section id="presentation" style="margin: 40px 0; text-align: center;">
        <h2 style="color: var(--primary-color); font-size: 28px; font-weight: 600; margin-bottom: 20px;">3 Minute Presentation</h2>
        <div class="video-container" style="max-width: 800px; margin: 0 auto;">
          <video controls muted autoplay loop style="width: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);">
            <source src="assets/videos/demos/ICRA26_4530_VI_i.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="figure-caption" style="margin-top: 15px;">
            <p><strong>Unmute for audio explanation</strong></p>
          </div>
        </div>
      </section>
      
      <hr class="section-divider">
      
      <!-- Books Section - REMOVED FOR BLINDED SUBMISSION -->
      <div style="margin-top: 30px; text-align: center;">
        <div class="placeholder" style="background-color: #fff3cd; border-color: #ffeaa7; color: #856404;">
          <strong>Related publications section removed for double-blind submission</strong>
        </div>
      </div>
      
      <hr class="section-divider">
      
      <!-- Acknowledgments Section - BLINDED FOR SUBMISSION -->
      <h2>Acknowledgments</h2>
      <div class="placeholder" style="background-color: #fff3cd; border-color: #ffeaa7; color: #856404;">
        <strong>Acknowledgments removed for double-blind submission</strong>
        <br><br>
        Funding information and acknowledgments will be added after acceptance.
      </div>
      
      <!-- References Section - TO BE CUSTOMIZED -->
      <section id="references">
      <h2>References <button id="toggle-references" class="citation-button" style="margin-left: 15px; font-size: 14px;">
        <i class="fas fa-chevron-down"></i> Show References
      </button></h2>
      
      <div id="references-container" class="citation-content" style="display: none; max-width: 100%; margin-top: 20px;">
        <div class="placeholder">
          [Add your references here in proper academic format]
          <br><br>
          <ol style="padding-left: 25px;">
            <li>[Reference 1]</li>
            <li>[Reference 2]</li>
            <li>[Reference 3]</li>
            <!-- Add more references as needed -->
          </ol>
        </div>
        <button class="copy-button" style="margin-left: 800px;" onclick="copyReferences()">Copy All</button>
      </div>
      </section>
    </div>
    
    <!-- Footer - BLINDED FOR SUBMISSION -->
    <div class="footer">
      © 2026 HARMONIC Project Team. All rights reserved.
    </div>
  </div>
  
  <script>
    // Toggle citation display
    function toggleCitation(id) {
      const element = document.getElementById(id);
      const allCitations = document.querySelectorAll('.citation-content');
      
      // Hide all other citations first
      allCitations.forEach(citation => {
        if (citation.id !== id) {
          citation.style.display = 'none';
        }
      });
      
      // Toggle the selected citation
      if (element.style.display === 'block') {
        element.style.display = 'none';
      } else {
        element.style.display = 'block';
      }
    }
    
    // Copy text function for BibTeX
    function copyText(id) {
      const element = document.getElementById(id);
      const text = element.innerText.replace('Copy', '').trim();
      
      navigator.clipboard.writeText(text)
        .then(() => {
          const button = element.querySelector('.copy-button');
          const originalText = button.innerText;
          
          button.innerText = 'Copied!';
          setTimeout(() => {
            button.innerText = originalText;
          }, 2000);
        })
        .catch(err => {
          console.error('Could not copy text: ', err);
        });
    }
    
    // Copy individual citation format
    function copyCitationFormat(id) {
      const element = document.getElementById(id);
      const text = element.innerText.trim();
      
      navigator.clipboard.writeText(text)
        .then(() => {
          const parent = element.closest('div');
          const button = parent.querySelector('.copy-button');
          const originalText = button.innerText;
          
          button.innerText = 'Copied!';
          setTimeout(() => {
            button.innerText = originalText;
          }, 2000);
        })
        .catch(err => {
          console.error('Could not copy citation format: ', err);
        });
    }
    
    // Copy references function
    function copyReferences() {
      const referencesContainer = document.getElementById('references-container');
      const referencesList = referencesContainer.querySelector('ol').innerText;
      
      navigator.clipboard.writeText(referencesList)
        .then(() => {
          const button = referencesContainer.querySelector('.copy-button');
          const originalText = button.innerText;
          
          button.innerText = 'Copied!';
          setTimeout(() => {
            button.innerText = originalText;
          }, 2000);
        })
        .catch(err => {
          console.error('Could not copy references: ', err);
        });
    }
    
    // Generate citation formats from BibTeX
    function generateCitationFormats() {
      // Get BibTeX content
      const bibtexElement = document.getElementById('bibtex-citation');
      const bibtexText = bibtexElement.innerText.replace('Copy', '').trim();
      
      // Parse BibTeX
      const titleMatch = bibtexText.match(/title=\{([^}]+)\}/);
      const authorMatch = bibtexText.match(/author=\{([^}]+)\}/);
      const yearMatch = bibtexText.match(/year=\{(\d+)\}/);
      const urlMatch = bibtexText.match(/url=\{([^}]+)\}/);
      const eprintMatch = bibtexText.match(/eprint=\{([^}]+)\}/);
      
      if (titleMatch && authorMatch && yearMatch) {
        const title = titleMatch[1];
        const authors = authorMatch[1].split(' and ');
        const year = yearMatch[1];
        const url = urlMatch ? urlMatch[1] : '';
        const eprint = eprintMatch ? eprintMatch[1] : '';
        
        // Format authors for different citation styles
        let authorLastFirst = [];
        
        authors.forEach(author => {
          // Attempt to split "Lastname, Firstname" or "Lastname Firstname"
          const parts = author.trim().split(/,\s*|\s+/);
          if (parts.length >= 2) {
            const lastName = parts[0];
            const initials = parts.slice(1).join(' ');
            authorLastFirst.push(`${lastName}, ${initials}`);
          } else {
            authorLastFirst.push(author);
          }
        });
        
        // APA format
        let apaAuthors = '';
        if (authors.length === 1) {
          apaAuthors = authorLastFirst[0];
        } else if (authors.length === 2) {
          apaAuthors = `${authorLastFirst[0]} & ${authorLastFirst[1]}`;
        } else if (authors.length > 2) {
          apaAuthors = authorLastFirst.slice(0, authors.length - 1).join(', ') + ', & ' + authorLastFirst[authors.length - 1];
        }
        
        // Replace full first names with initials in APA format
        apaAuthors = apaAuthors.replace(/(\w+),\s+(\w+)/g, (match, lastName, firstName) => {
          return `${lastName}, ${firstName.charAt(0)}.`;
        });
        
        const apaText = `${apaAuthors} (${year}). ${title}. <i>arXiv preprint arXiv:${eprint}</i>.${url ? ` ${url}` : ''}`;
        document.getElementById('apa-text').innerHTML = apaText;
        
        // MLA format
        let mlaAuthors = '';
        if (authors.length === 1) {
          mlaAuthors = authorLastFirst[0];
        } else if (authors.length > 1) {
          mlaAuthors = `${authorLastFirst[0]}, et al.`;
        }
        
        const mlaText = `${mlaAuthors}. "${title}." <i>arXiv preprint arXiv:${eprint}</i> (${year}).`;
        document.getElementById('mla-text').innerHTML = mlaText;
        
        // Chicago format
        let chicagoAuthors = '';
        if (authors.length === 1) {
          chicagoAuthors = authorLastFirst[0];
        } else if (authors.length === 2) {
          chicagoAuthors = `${authorLastFirst[0]} and ${authorLastFirst[1]}`;
        } else if (authors.length > 2) {
          chicagoAuthors = authorLastFirst.slice(0, authors.length - 1).join(', ') + ', and ' + authorLastFirst[authors.length - 1];
        }
        
        const chicagoText = `${chicagoAuthors}. "${title}." <i>arXiv preprint arXiv:${eprint}</i> (${year}).`;
        document.getElementById('chicago-text').innerHTML = chicagoText;
      }
    }
    
    // Toggle references section
    document.addEventListener('DOMContentLoaded', function() {
      const toggleButton = document.getElementById('toggle-references');
      const referencesContainer = document.getElementById('references-container');
      
      toggleButton.addEventListener('click', function() {
        if (referencesContainer.style.display === 'block') {
          referencesContainer.style.display = 'none';
          toggleButton.innerHTML = '<i class="fas fa-chevron-down"></i> Show References';
        } else {
          referencesContainer.style.display = 'block';
          toggleButton.innerHTML = '<i class="fas fa-chevron-up"></i> Hide References';
        }
      });
      
      // Generate citation formats on page load
      generateCitationFormats();
      
      // Add event listener to BibTeX to update citation formats when it changes
      const bibtexTextarea = document.getElementById('bibtex-citation');
      if (bibtexTextarea) {
        const observer = new MutationObserver(function() {
          generateCitationFormats();
        });
        
        observer.observe(bibtexTextarea, { 
          characterData: true,
          childList: true,
          subtree: true 
        });
      }
    });
    
    // Interactive Demo Functions
    let currentStepIndex = 0;
    const totalSteps = 31;
    let autoPlayInterval = null;
    
    // Step titles for navigation
    const stepTitles = [
      'Understanding HARMONIC\'s Reasoning Process',
      'Human Input: "It looks like the engine is overheating."',
      'Adjacency Pair Activation',
      'Plan Generation',
      'Action Procedure Definition',
      'Plan Execution',
      'Response Generation',
      'Follow-up Question',
      'Adjacency Pair Activation',
      'Plan Generation',
      'Action Procedure Definition',
      'Plan Execution',
      'Action Request',
      'Adjacency Pair Activation',
      'Plan Generation',
      'Multi-Step Plan Definition',
      'Precondition Check',
      'Information Request Plan',
      'Sub-Plan Creation',
      'Plan Activation',
      'Plan Activation (Continued)',
      'Human Response',
      'Plan Status Update',
      'Search Initiation',
      'Wait for Object Location',
      'Object Detection',
      'Object Pickup',
      'Navigation',
      'Delivery',
      'Watch Full Demo - Simulation',
      'Watch Full Demo - Real-Robot'
    ];
    
    function generateStepNavigation() {
      const stepNavGrid = document.getElementById('stepNavGrid');
      stepNavGrid.innerHTML = '';
      
      for (let i = 0; i < totalSteps; i++) {
        const button = document.createElement('button');
        
        // Special styling for demo steps
        if (i === 29) {
          button.className = 'step-nav-button simulation-nav-button';
          button.textContent = '29';
          button.title = `Step ${i}: ${stepTitles[i]}`;
        } else if (i === 30) {
          button.className = 'step-nav-button robot-nav-button';
          button.textContent = '30';
          button.title = `Step ${i}: ${stepTitles[i]}`;
        } else {
          button.className = 'step-nav-button';
          button.textContent = i === 0 ? 'Intro' : i;
          button.title = `Step ${i}: ${stepTitles[i]}`;
        }
        
        button.onclick = () => goToStep(i);
        stepNavGrid.appendChild(button);
      }
    }
    
    function updateStepNavigation() {
      const navButtons = document.querySelectorAll('.step-nav-button');
      navButtons.forEach((button, index) => {
        const stepNumber = index;
        button.classList.remove('active', 'completed');
        
        if (stepNumber === currentStepIndex) {
          button.classList.add('active');
        } else if (stepNumber < currentStepIndex) {
          button.classList.add('completed');
        }
      });
    }
    
    function goToStep(stepNumber) {
      if (stepNumber >= 0 && stepNumber < totalSteps) {
        currentStepIndex = stepNumber;
        updateStepDisplay(true); // Scroll when user clicks step buttons
        updateStepNavigation();
        
        // Stop auto-play if it's running
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
      }
    }
    
    function updateStepDisplay(shouldScroll = false) {
      // Update step counter
      document.getElementById('currentStep').textContent = currentStepIndex;
      document.getElementById('totalSteps').textContent = totalSteps - 1;
      
      // Update button states
      document.getElementById('prevStep').disabled = currentStepIndex <= 0;
      document.getElementById('nextStep').disabled = currentStepIndex >= totalSteps - 1;
      
      // Hide all steps first
      document.querySelectorAll('.demo-step').forEach(step => {
        step.classList.remove('active', 'completed');
        step.style.display = 'none';
      });
      
      // Show only the current step
      const currentStep = document.getElementById(`step${currentStepIndex}`);
      if (currentStep) {
        currentStep.classList.add('active');
        currentStep.style.display = 'block';
      }
      
      // Update step navigation
      updateStepNavigation();
      
      // Only scroll when explicitly requested (user navigation)
      if (shouldScroll) {
        const demoPanel = document.querySelector('.interactive-demo');
        if (demoPanel) {
          demoPanel.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }
    }
    
    function nextStep() {
      if (currentStepIndex < totalSteps - 1) {
        currentStepIndex++;
        updateStepDisplay(true); // Scroll when user navigates
      }
    }
    
    function previousStep() {
      if (currentStepIndex > 0) {
        currentStepIndex--;
        updateStepDisplay(true); // Scroll when user navigates
      }
    }
    
    function toggleAutoPlay() {
      const autoPlayBtn = document.getElementById('autoPlayBtn');
      
      if (autoPlayInterval) {
        // Stop auto-play
        clearInterval(autoPlayInterval);
        autoPlayInterval = null;
        autoPlayBtn.textContent = 'Auto Play';
        autoPlayBtn.style.backgroundColor = '';
      } else {
        // Start auto-play
        autoPlayInterval = setInterval(() => {
          if (currentStepIndex < totalSteps - 1) {
            nextStep();
          } else {
            // Reached the end, stop auto-play
            clearInterval(autoPlayInterval);
            autoPlayInterval = null;
            autoPlayBtn.textContent = 'Auto Play';
            autoPlayBtn.style.backgroundColor = '';
          }
        }, 3000); // 3 seconds per step
        
        autoPlayBtn.textContent = 'Stop';
        autoPlayBtn.style.backgroundColor = '#d32f2f';
      }
    }
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowRight' || e.key === ' ') {
        e.preventDefault();
        nextStep();
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        previousStep();
      } else if (e.key === 'Enter') {
        e.preventDefault();
        toggleAutoPlay();
      }
    });
    
    // Demo button functions
    function watchSimulationDemo() {
      // Open simulation demo video in new tab or modal
      window.open('assets/videos/demos/full_simulation_demo.mp4', '_blank');
    }
    
    function watchRobotDemo() {
      // Open robot demo video in new tab or modal
      window.open('assets/videos/demos/full_robot_demo.mp4', '_blank');
    }
    
    // Navigation functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile menu toggle
      const navToggle = document.querySelector('.nav-toggle');
      const navMenu = document.querySelector('.nav-menu');
      
      if (navToggle && navMenu) {
        navToggle.addEventListener('click', function() {
          navMenu.classList.toggle('active');
          navToggle.classList.toggle('active');
        });
        
        // Close mobile menu when clicking on a link
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
          link.addEventListener('click', function() {
            navMenu.classList.remove('active');
            navToggle.classList.remove('active');
          });
        });
      }
      
      // Smooth scrolling for navigation links
      const navLinks = document.querySelectorAll('.nav-link[href^="#"]');
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          
          if (targetSection) {
            const offsetTop = targetSection.offsetTop - 80; // Account for fixed nav height
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
          }
        });
      });
      
      // Active navigation highlighting based on scroll position
      function updateActiveNavLink() {
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link');
        
        let currentSection = '';
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop - 100;
          const sectionHeight = section.offsetHeight;
          
          if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
            currentSection = section.getAttribute('id');
          }
        });
        
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === '#' + currentSection) {
            link.classList.add('active');
          }
        });
      }
      
      // Update active nav link on scroll
      window.addEventListener('scroll', updateActiveNavLink);
      
      // Initial call to set active nav link
      updateActiveNavLink();
    });

    // Interactive Architecture Functions
    function initializeInteractiveArchitecture() {
      const hotspots = document.querySelectorAll('.architecture-hotspot');
      const infoPanel = document.getElementById('info-panel-content');
      
      // Component information data
      const componentInfo = {
        // External Top Blocks - Long-Horizon Planning
        'long-horizon-planning': {
          title: 'Long-Horizon Planning',
          description: 'High-level strategic planning capabilities that handle complex, long-term goals and multi-step task sequences. Provides the foundation for sophisticated decision-making over extended time horizons.'
        },
        'state-tracking': {
          title: 'Long-Term State Tracking',
          description: 'Maintains persistent understanding of the environment and agent state over extended periods. Tracks changes, maintains context, and provides historical awareness for planning.'
        },
        'task-decomposition': {
          title: 'Hierarchical Task Decomposition',
          description: 'Breaks down complex goals into manageable sub-tasks and action sequences. Creates structured plans that can be executed by lower-level systems.'
        },
        'replanning': {
          title: 'Dynamic Replanning',
          description: 'Adapts and re-plans in response to unexpected events or changes in the environment. Ensures system resilience and adaptability to dynamic conditions.'
        },
        'adaptation': {
          title: 'Adaptation to Novel Situations',
          description: 'Enables the system to handle unforeseen circumstances and learn new behaviors. Provides flexibility for dealing with previously unencountered scenarios.'
        },
        
        // Metacognition
        'metacognition': {
          title: 'Metacognition',
          description: 'Self-monitoring and self-regulation of cognitive processes. Enables the system to reflect on its own thinking and decision-making capabilities.'
        },
        'self-awareness': {
          title: 'Self-Awareness',
          description: 'The system\'s understanding of its own capabilities, limitations, and internal state. Provides introspection for better decision-making and resource management.'
        },
        'team-awareness': {
          title: 'Team-Awareness',
          description: 'Understanding of other agents\' states, intentions, and roles in multi-agent systems. Enables effective collaboration and coordination with other entities.'
        },
        
        // Explainability
        'explainability': {
          title: 'Explainability',
          description: 'Provides transparency into the system\'s decision-making processes. Enables human understanding and trust in AI system behavior.'
        },
        'traceable-flows': {
          title: 'Traceable Reasoning Flows',
          description: 'Allows inspection and understanding of the logical steps leading to decisions. Provides audit trails and debugging capabilities for system behavior.'
        },
        'nl-interactions': {
          title: 'Natural Language Interactions',
          description: 'Enables human-like communication for querying and understanding system behavior. Allows users to ask questions and receive explanations in natural language.'
        },
        
        // System 2: Strategic Layer
        'system2-layer': {
          title: 'System 2: Strategic (Cognitive) Layer',
          description: 'The high-level cognitive layer responsible for long-term planning and complex decision-making. Inspired by Kahneman\'s dual-system model, this represents deliberative thinking.'
        },
        'ontoagent-framework': {
          title: 'OntoAgent Framework',
          description: 'Cognitive framework for knowledge-based reasoning and natural language processing. Provides explicit, inspectable knowledge representations for transparent decision-making.'
        },
        
        // OntoAgent Components
        'perception-interpretation': {
          title: 'Perception Interpretation',
          description: 'Processes raw sensory data into meaningful, symbolic representations for strategic reasoning. Converts low-level sensor data into high-level concepts and objects.'
        },
        'attention-service-s2': {
          title: 'Attention Service (Strategic)',
          description: 'Focuses cognitive resources on relevant information for strategic decision-making. Manages information filtering and prioritization at the cognitive level.'
        },
        'strategic-reasoning': {
          title: 'Strategic Reasoning & Decision-Making',
          description: 'Generates high-level plans and makes decisions based on long-term goals and knowledge. Handles complex reasoning about goals, constraints, and trade-offs.'
        },
        'rendering-services': {
          title: 'Rendering Services',
          description: 'Translates strategic decisions into actionable commands for the tactical layer. Converts high-level plans into specific instructions for execution.'
        },
        
        // Communication APIs
        'perception-apis': {
          title: 'Perception Data Communication APIs',
          description: 'Interfaces for exchanging processed perception data between strategic and tactical layers. Ensures proper data flow and format conversion between system levels.'
        },
        'action-apis': {
          title: 'Action Data Communication APIs',
          description: 'Interfaces for sending action commands from strategic to tactical layer. Manages command translation and validation between system levels.'
        },
        
        // System 1: Tactical Layer
        'system1-layer': {
          title: 'System 1: Tactical (Control) Layer',
          description: 'The low-level control layer responsible for real-time execution and reactive behaviors. Represents fast, automatic responses in Kahneman\'s dual-system model.',
          video: {
            src: 'assets/videos/demos/ICRA26_4530_VI_i.mp4',
            caption: 'Tactical Layer in Action - Real-time execution and reactive behaviors'
          }
        },
        
        // System 1 Components
        'perception-services': {
          title: 'Perception Services (Tactical)',
          description: 'Handles raw sensory input and provides real-time environmental awareness. Processes sensor data for immediate action and safety monitoring.'
        },
        'attention-service-s1': {
          title: 'Attention Service (Tactical)',
          description: 'Directs sensory focus and processing for immediate task relevance. Manages real-time attention allocation for reactive behaviors.'
        },
        'tactical-reasoning': {
          title: 'Tactical Reasoning & Decision-Making (Behavior Trees)',
          description: 'Executes immediate actions and reactive behaviors using behavior trees. Provides robust, hierarchical control for real-time task execution.'
        },
        'behavior-trees': {
          title: 'Behavior Trees',
          description: 'Hierarchical control structures that define the robot\'s behavior patterns and decision-making logic. Behavior trees provide a modular and reusable approach to organizing complex behaviors, allowing for dynamic task execution and reactive responses to environmental changes.',
          image: {
            src: 'assets/images/architecture/Robots-BTs.png',
            alt: 'Behavior Trees Structure',
            caption: 'Example behavior tree structure showing hierarchical decision-making nodes'
          }
        },
        'effector-services': {
          title: 'Effector Services',
          description: 'Translates tactical commands into physical actions for motors and actuators. Handles low-level control and safety constraints for physical execution.'
        },
        
        // Perception Inputs
        'perception-inputs': {
          title: 'Perception Inputs',
          description: 'Various sensory data streams feeding into the system. Provides the raw information needed for environmental understanding and decision-making.'
        },
        'environment-perception': {
          title: 'Environment Perception',
          description: 'Visual and spatial data from the surrounding world. Includes camera feeds, depth sensors, and environmental mapping information.'
        },
        'speech-input': {
          title: 'Speech Input',
          description: 'Auditory data including human commands and communications. Processes voice commands and natural language interactions.'
        },
        'health-monitoring': {
          title: 'Health Monitoring',
          description: 'Internal system status and vital signs monitoring. Tracks battery levels, system health, and operational status indicators.'
        },
        
        // Action Outputs
        'action-outputs': {
          title: 'Action Outputs',
          description: 'Physical and communicative outputs generated by the system. Represents the system\'s ability to interact with and affect the environment.'
        },
        'motor-control': {
          title: 'Motor Control',
          description: 'Commands for controlling physical motors and movement systems. Handles locomotion, manipulation, and other motor-based actions.'
        },
        'actuator-control': {
          title: 'Actuator Control',
          description: 'Commands for various mechanical actuators including grippers, joints, and specialized tools. Enables precise manipulation and interaction.'
        },
        'audio-output': {
          title: 'Audio Output',
          description: 'Sound generation including speech synthesis, alerts, and audio feedback. Enables verbal communication and audio-based user interaction.'
        },
        
        // Bottom External Modules
        'perception-mapping': {
          title: 'Perception and Mapping',
          description: 'Low-level processing for environmental sensing and map creation. Handles SLAM, object detection, and spatial understanding.'
        },
        'reactive-planning': {
          title: 'Reactive Planning (Safety and Needs)',
          description: 'Immediate, instinctual responses to ensure safety and fulfill basic needs. Provides emergency responses and basic survival behaviors.'
        },
        'short-horizon-plans': {
          title: 'Short Horizon Plans',
          description: 'Tactical plans for immediate future actions, often derived from strategic goals. Bridges the gap between high-level planning and immediate execution.'
        },
        'actuation-policies': {
          title: 'Actuation and Motor Control Policies',
          description: 'Specific rules and algorithms for controlling physical outputs. Implements safety constraints and control policies for physical actions.'
        }
      };
      
      hotspots.forEach(hotspot => {
        hotspot.addEventListener('click', function() {
          // Remove active class from all hotspots
          hotspots.forEach(h => h.classList.remove('active'));
          
          // Add active class to clicked hotspot
          this.classList.add('active');
          
          const component = this.getAttribute('data-component');
          const info = componentInfo[component];
          
          if (info && infoPanel) {
            // Determine color based on button class
            let textColor = '#333'; // default color
            if (this.classList.contains('dark-blue')) {
              textColor = '#1e3a8a';
            } else if (this.classList.contains('navy-blue')) {
              textColor = '#1e40af';
            } else if (this.classList.contains('black')) {
              textColor = '#000000';
            } else if (this.classList.contains('deep-green')) {
              textColor = '#065f46';
            } else if (this.classList.contains('dark-green')) {
              textColor = '#166534';
            }
            
            let content = `
              <h3 style="color: ${textColor};">${info.title}</h3>
              <p style="color: ${textColor};">${info.description}</p>
            `;
            
            // Add video if available
            if (info.video) {
              content += `
                <div class="video-container">
                  <video class="clickable-video" autoplay muted loop playsinline onclick="openVideoModal('${info.video.src}', '${info.video.caption}')">
                    <source src="${info.video.src}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <div class="video-caption">${info.video.caption}</div>
                </div>
              `;
            }
            
            // Add image if available
            if (info.image) {
              content += `
                <div class="image-container" style="margin-top: 15px;">
                  <img src="${info.image.src}" alt="${info.image.alt}" class="clickable-image" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onclick="openImageModal('${info.image.src}', '${info.image.alt}', '${info.image.caption}')">
                  <div class="image-caption" style="margin-top: 8px; font-size: 0.9em; color: #666; font-style: italic;">${info.image.caption}</div>
                </div>
              `;
            }
            
            infoPanel.innerHTML = content;
          }
        });
      });
      
      // Content persists when leaving the architecture area - no reset needed
    }

    // Lazy loading for videos
    document.addEventListener('DOMContentLoaded', function() {
      const videos = document.querySelectorAll('video.lazy-video');
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.play();
          } else {
            entry.target.pause();
          }
        });
      }, { threshold: 0.5 });
      
      videos.forEach(video => observer.observe(video));
      
      // Initialize demo
      generateStepNavigation();
      updateStepDisplay();
      
      // Initialize interactive architecture
      initializeInteractiveArchitecture();
      
      // Initialize image modal
      initializeImageModal();
      
      // Initialize video modal
      initializeVideoModal();
    });
    
    // Image Modal Functions
    function openImageModal(src, alt, caption) {
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalCaption = document.getElementById('modalCaption');
      
      modal.style.display = 'block';
      modalImg.src = src;
      modalImg.alt = alt;
      modalCaption.textContent = caption;
      
      // Prevent body scroll when modal is open
      document.body.style.overflow = 'hidden';
    }
    
    function closeImageModal() {
      const modal = document.getElementById('imageModal');
      modal.style.display = 'none';
      
      // Restore body scroll
      document.body.style.overflow = 'auto';
    }
    
    function initializeImageModal() {
      const modal = document.getElementById('imageModal');
      const closeBtn = document.querySelector('.image-modal-close');
      
      // Close modal when clicking the X button
      closeBtn.addEventListener('click', closeImageModal);
      
      // Close modal when clicking outside the image
      modal.addEventListener('click', function(event) {
        if (event.target === modal) {
          closeImageModal();
        }
      });
      
      // Close modal when pressing Escape key
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && modal.style.display === 'block') {
          closeImageModal();
        }
      });
    }
    
    // Video Modal Functions
    function openVideoModal(src, caption) {
      const modal = document.getElementById('videoModal');
      const modalVideo = document.getElementById('modalVideo');
      const modalCaption = document.getElementById('modalVideoCaption');
      
      modal.style.display = 'block';
      modalVideo.src = src;
      modalCaption.textContent = caption;
      
      // Start playing the video
      modalVideo.play();
      
      // Prevent body scroll when modal is open
      document.body.style.overflow = 'hidden';
    }
    
    function closeVideoModal() {
      const modal = document.getElementById('videoModal');
      const modalVideo = document.getElementById('modalVideo');
      
      modal.style.display = 'none';
      
      // Pause and reset the video
      modalVideo.pause();
      modalVideo.currentTime = 0;
      
      // Restore body scroll
      document.body.style.overflow = 'auto';
    }
    
    function initializeVideoModal() {
      const modal = document.getElementById('videoModal');
      const closeBtn = document.querySelector('.video-modal-close');
      
      // Close modal when clicking the X button
      closeBtn.addEventListener('click', closeVideoModal);
      
      // Close modal when clicking outside the video
      modal.addEventListener('click', function(event) {
        if (event.target === modal) {
          closeVideoModal();
        }
      });
      
      // Close modal when pressing Escape key
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && modal.style.display === 'block') {
          closeVideoModal();
        }
      });
    }
  </script>
  
  <!-- Image Modal -->
  <div id="imageModal" class="image-modal">
    <div class="image-modal-content">
      <span class="image-modal-close">&times;</span>
      <img id="modalImage" src="" alt="">
      <div id="modalCaption" class="image-modal-caption"></div>
    </div>
  </div>
  
  <!-- Video Modal -->
  <div id="videoModal" class="video-modal">
    <div class="video-modal-content">
      <span class="video-modal-close">&times;</span>
      <video id="modalVideo" controls autoplay muted loop playsinline>
        <source src="" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <div id="modalVideoCaption" class="video-modal-caption"></div>
    </div>
  </div>
</body>
</html>